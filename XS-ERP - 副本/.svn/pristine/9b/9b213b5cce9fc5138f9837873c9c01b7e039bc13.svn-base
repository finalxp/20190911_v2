<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" layout:decorator="layout">
<head>
	<meta charset="UTF-8">
	<title th:text="${title}"></title>
	<script type="text/javascript" src="/js/employee.js"></script>
</head>
<body>
<div layout:fragment="content">
<div class="easyui-layout" style="height:650px;">
	<div th:replace="~{layout/tree}"></div>	
	<div data-options="region:'center'">
		<table id="dg" title="员工管理" class="easyui-datagrid" url="get_users.php" toolbar="#toolbar"
				pagination="true" rownumbers="true" fitColumns="true" singleSelect="true">
			<thead>
				<tr>
					<th align="center" field="emp_no" width="50">员工编号</th>
					<th align="center" field="emp_name" width="50">员工姓名</th>
					<th align="center" field="sex" width="50">性别</th>
					<th align="center" field="phone_no" width="50">电话</th>
					<th align="center" field="birthday" width="40">生日</th>
					<th align="center" field="nickname" width="50">昵称</th>
					<th align="center" field="avatar_url" width="50">头像存放地址</th>
					<th align="center" field="enrolled" width="50">声纹是否注册</th>
				</tr>
			</thead>
			<tbody>
				<tr th:if="${#lists.isEmpty(allEmployees)}" class="btn-warning">
					<td colspan="4" align="center">No employee Yet!!!</td>
				</tr>
				<tr th:each="emp:${allEmployees}">
					<td th:text="${emp.empNo}"></td>
					<td th:text="${emp.empName}"></td>
					<td th:text="${emp.sex}"></td>
					<td th:text="${emp.phoneNo}"></td>
					<td th:text="${#dates.format(emp.birthday,'yyyy-MM-dd')}"></td>
					<td th:text="${emp.nickname}"></td>
					<td th:text="${emp.avatarUrl}"></td>
					<td th:text="${emp.enrolled}"></td>
				</tr>
			
			
			</tbody>
		</table>
		<div id="dlg" class="easyui-dialog" style="width:400px" data-options="closed:true,modal:true,border:'thin',buttons:'#dlg-buttons'">
			<form id="fm" method="post" novalidate style="margin:0;padding:20px 50px">
				<h3>User Information</h3>
				<div style="margin-bottom:10px">
					<input name="firstname" class="easyui-textbox" required="true" label="First Name:" style="width:100%">
				</div>
				<div style="margin-bottom:10px">
					<input name="lastname" class="easyui-textbox" required="true" label="Last Name:" style="width:100%">
				</div>
				<div style="margin-bottom:10px">
					<input name="phone" class="easyui-textbox" required="true" label="Phone:" style="width:100%">
				</div>
				<div style="margin-bottom:10px">
					<input name="email" class="easyui-textbox" required="true" validType="email" label="Email:" style="width:100%">
				</div>
			</form>
		</div>
		<div id="toolbar">
			<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="newUser()">New User</a>
			<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-edit" plain="true" onclick="editUser()">Edit User</a>
			<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true" onclick="destroyUser()">Remove User</a>
		</div>
		
		<div id="dlg-buttons">
			<a href="javascript:void(0)" class="easyui-linkbutton c6" iconCls="icon-ok" onclick="saveUser()" style="width:90px">Save</a>
			<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" onclick="javascript:$('#dlg').dialog('close')" style="width:90px">Cancel</a>
		</div>
	</div>
</div>
<!-- 添加员工弹框 -->
<div id="w_addEmployee" class="easyui-window" data-options="modal:true,closed:true,iconCls:'icon-save'" 
		style="width:300px;height:308px;padding:5px;">
	<div class="easyui-layout" data-options="fit:true">
		<div data-options="region:'center'" style="padding:10px;">
			
			<form id="form_addEmployee" onsubmit="return checkReturn()" method="post" th:object="${employeeItem}" th:action="@{/employee/addEmployee}">
				<table>
					<tr>
						<td><input class="id" type="hidden" th:field="*{id}"></td>
					</tr>
					<tr>
						<td>员工编号：</td>
						<td><input class="empNo" type="text" th:field="*{empNo}" placeholder="请输入员工编号"></td>
					</tr>
					<tr>
						<td>初始密码：</td>
						<td><input class="empPassword" type="text" th:field="*{empPassword}" placeholder="请输入初始密码"/></td>
					</tr>
					<tr>
						<td>员工姓名：</td>
						<td><input class="empName" type="text" th:field="*{empName}" placeholder="请输入员工姓名"></td>
					</tr>
					<tr>
					
					
						<td>性&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp别：</td>
						<td>
							<select class="sex" th:value="*{sex}" style="width:155px;height:25px;border:1px solid #ccc;" >
								<option value="">请选择:</option>
								<option value="男">男</option>
								<option value="女">女</option>
							</select>
						</td>
					</tr>
					<tr>
						<td>电&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp话：</td>
						<td><input class="phoneNo" type="text" th:field="*{phoneNo}" placeholder="请输入员工电话"></td>
					</tr>
					<tr>
						<td>生&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp日：</td>
						<td><input class="birthday" type="date" th:field="*{birthday}" style="width:155px; "></td>
					</tr>
					<tr>
						<td>昵&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp称：</td>
						<td><input class="nickname" type="text" th:field="*{nickname}" placeholder="请输入用户昵称"></td>
					</tr>
				</table>
				
				<div data-options="region:'south', border:false" style="text-align:center; padding:5px 0 0;">
					<button id="btn_addEmployee" class="easyui-linkbutton btnSave" data-options="iconCls:'icon-ok'" 
						style="width:80px" type="submit">保存</button>
					<button class="easyui-linkbutton btnSave" data-options="iconCls:'icon-cancel'" style="width:80px"
						onclick="close_window();">取消</button>
				</div>
			</form>
		</div>
		
	</div>
</div>

</div>
</body>
</html>